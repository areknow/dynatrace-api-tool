function finishAuth(e){showLoader(!1),setTimeout(function(){hideLogin(!0),$.snackbar({content:e})},1500),initWayPoints()}function collectForm(){var e=$("input:radio[name='env-type']:checked").val(),t=$("#text-managed-domain").val(),n=$("#text-env-id").val(),a=$("#text-api-token").val(),s={type:e,domain:t,id:n,token:a};return s}function checkForm(){var e=$("#text-managed-domain").val(),t=$("#text-env-id").val(),n=$("#text-api-token").val(),a=$('input:radio[name="env-type"]:checked').attr("value");return"managed"==a?""==e||""==t||""==n?!1:!0:""==t||""==n?!1:!0}function buildURL(e){var t;return"saas"==e.type?t="https://"+e.id+".live.dynatrace.com/api/v1/":"managed"==e.type&&(t="https://"+e.domain+"/e/"+e.id+"/api/v1/"),t}function getData(e,t,n){return Promise.resolve($.ajax({url:e+n+"?Api-Token="+t}))}function showLoader(e){e?$(".loading").fadeIn():setTimeout(function(){$(".loading").fadeOut()},1e3)}function showWarning(e,t){$(".warning").html(t),e?$(".warning").fadeIn("fast"):$(".warning").fadeOut("fast")}function hideLogin(e){e?$(".auth-wrapper").slideUp():$(".auth-wrapper").slideDown()}function ajaxTimeseries(e,t){return request="timeseries",$.ajax({url:e+request+"?Api-Token="+t}).done(function(n){var a=e+request+"?Api-Token="+t,s=JSON.stringify(n);$("#timeseries .endpoint").html(a),$("#timeseries .print-json").html(s)}).error(function(e){$("#timeseries .print-json").html("no data to display"),$("#timeseries .endpoint").css("color","#c31425"),"error"==e.statusText&&$("#timeseries .endpoint").html("an error occured"),("Not Found"==e.statusText||"Unauthorized"==e.statusText)&&$("#timeseries .endpoint").html(e.responseJSON.error.message)})}function ajaxProblemStatus(e,t){return request="problem/status",$.ajax({url:e+request+"?Api-Token="+t}).done(function(n){var a=e+request+"?Api-Token="+t,s=JSON.stringify(n);$("#problem-status .endpoint").html(a),$("#problem-status .print-json").html(s)}).error(function(e){$("#problem-status .print-json").html("no data to display"),$("#problem-status .endpoint").css("color","#c31425"),"error"==e.statusText&&$("#problem-status .endpoint").html("an error occured"),("Not Found"==e.statusText||"Unauthorized"==e.statusText)&&$("#problem-status .endpoint").html(e.responseJSON.error.message)})}function ajaxProblemFeed(e,t){return request="problem/feed",$.ajax({url:e+request+"?Api-Token="+t}).done(function(n){var a=e+request+"?Api-Token="+t,s=JSON.stringify(n);$("#problem-feed .endpoint").html(a),$("#problem-feed .print-json").html(s)}).error(function(e){$("#problem-feed .print-json").html("no data to display"),$("#problem-feed .endpoint").css("color","#c31425"),"error"==e.statusText&&$("#problem-feed .endpoint").html("an error occured"),("Not Found"==e.statusText||"Unauthorized"==e.statusText)&&$("#problem-feed .endpoint").html(e.responseJSON.error.message)})}function ajaxApplications(e,t){return request="entity/applications",$.ajax({url:e+request+"?Api-Token="+t}).success(function(n){var a=e+request+"?Api-Token="+t,s=JSON.stringify(n);$("#applications .endpoint").html(a),$("#applications .print-json").html(s)}).error(function(e){$("#applications .print-json").html("no data to display"),$("#applications .endpoint").css("color","#c31425"),"error"==e.statusText&&$("#applications .endpoint").html("an error occured"),("Not Found"==e.statusText||"Unauthorized"==e.statusText)&&$("#applications .endpoint").html(e.responseJSON.error.message)})}function ajaxServices(e,t){return request="entity/services",$.ajax({url:e+request+"?Api-Token="+t}).done(function(n){var a=e+request+"?Api-Token="+t,s=JSON.stringify(n);$("#services .endpoint").html(a),$("#services .print-json").html(s)}).error(function(e){$("#services .print-json").html("no data to display"),$("#services .endpoint").css("color","#c31425"),"error"==e.statusText&&$("#services .endpoint").html("an error occured"),("Not Found"==e.statusText||"Unauthorized"==e.statusText)&&$("#services .endpoint").html(e.responseJSON.error.message)})}function ajaxHosts(e,t){return request="entity/infrastructure/hosts",$.ajax({url:e+request+"?Api-Token="+t}).done(function(n){var a=e+request+"?Api-Token="+t,s=JSON.stringify(n);$("#hosts .endpoint").html(a),$("#hosts .print-json").html(s)}).error(function(e){$("#hosts .print-json").html("no data to display"),$("#hosts .endpoint").css("color","#c31425"),"error"==e.statusText&&$("#hosts .endpoint").html("an error occured"),("Not Found"==e.statusText||"Unauthorized"==e.statusText)&&$("#hosts .endpoint").html(e.responseJSON.error.message)})}function ajaxProcessGroups(e,t){return request="entity/infrastructure/process-groups",$.ajax({url:e+request+"?Api-Token="+t}).done(function(n){var a=e+request+"?Api-Token="+t,s=JSON.stringify(n);$("#process-groups .endpoint").html(a),$("#process-groups .print-json").html(s)}).error(function(e){$("#process-groups .print-json").html("no data to display"),$("#process-groups .endpoint").css("color","#c31425"),"error"==e.statusText&&$("#process-groups .endpoint").html("an error occured"),("Not Found"==e.statusText||"Unauthorized"==e.statusText)&&$("#process-groups .endpoint").html(e.responseJSON.error.message)})}function initWayPoints(){new Waypoint({element:document.getElementById("problem-status"),handler:function(e){"down"==e?($(".sidebar a").removeClass("is-active"),$("#side-problem-status").addClass("is-active"),$(".breadcrumbs__last").html("Problem Status")):"up"==e&&($("#side-problem-status").removeClass("is-active"),$("#side-timeseries").addClass("is-active"),$(".breadcrumbs__last").html("Timeseries"))},offset:200}),new Waypoint({element:document.getElementById("problem-feed"),handler:function(e){"down"==e?($(".sidebar a").removeClass("is-active"),$("#side-problem-feed").addClass("is-active"),$(".breadcrumbs__last").html("Problem Feed")):"up"==e&&($("#side-problem-feed").removeClass("is-active"),$("#side-problem-status").addClass("is-active"),$(".breadcrumbs__last").html("Problem Status"))},offset:200}),new Waypoint({element:document.getElementById("applications"),handler:function(e){"down"==e?($(".sidebar a").removeClass("is-active"),$("#side-applications").addClass("is-active"),$(".breadcrumbs__last").html("Applications")):"up"==e&&($("#side-applications").removeClass("is-active"),$("#side-problem-feed").addClass("is-active"),$(".breadcrumbs__last").html("Problem Feed"))},offset:200}),new Waypoint({element:document.getElementById("services"),handler:function(e){"down"==e?($(".sidebar a").removeClass("is-active"),$("#side-services").addClass("is-active"),$(".breadcrumbs__last").html("Services")):"up"==e&&($("#side-services").removeClass("is-active"),$("#side-applications").addClass("is-active"),$(".breadcrumbs__last").html("Applications"))},offset:200}),new Waypoint({element:document.getElementById("hosts"),handler:function(e){"down"==e?($(".sidebar a").removeClass("is-active"),$("#side-hosts").addClass("is-active"),$(".breadcrumbs__last").html("Hosts")):"up"==e&&($("#side-hosts").removeClass("is-active"),$("#side-services").addClass("is-active"),$(".breadcrumbs__last").html("Services"))},offset:200}),new Waypoint({element:document.getElementById("process-groups"),handler:function(e){"down"==e?($(".sidebar a").removeClass("is-active"),$("#side-process-groups").addClass("is-active"),$(".breadcrumbs__last").html("Process Groups")):"up"==e&&($("#side-process-groups").removeClass("is-active"),$("#side-hosts").addClass("is-active"),$(".breadcrumbs__last").html("Hosts"))},offset:200})}function copyToClipboard(e){if(document.selection){document.getSelection().removeAllRanges();var t=document.body.createTextRange();t.moveToElementText(document.getElementById(e)),t.select().createTextRange(),document.execCommand("Copy"),$.snackbar({content:"Selection copied to clipboard"})}else if(window.getSelection){window.getSelection().removeAllRanges();var t=document.createRange();t.selectNode(document.getElementById(e)),window.getSelection().addRange(t),document.execCommand("Copy"),$.snackbar({content:"Selection copied to clipboard"})}}$(function(){$("#submit-form").click(function(){if(checkForm()){showWarning(!1),showLoader(!0);var e=collectForm(),t=buildURL(e);$.when(ajaxTimeseries(t,e.token),ajaxProblemStatus(t,e.token),ajaxProblemFeed(t,e.token),ajaxApplications(t,e.token),ajaxServices(t,e.token),ajaxHosts(t,e.token),ajaxProcessGroups(t,e.token)).done(function(){finishAuth("API successfully accessed")}).fail(function(){finishAuth("Errors were detected")})}else showWarning(!0,"Please fill out all fields")}),$('input:radio[name="env-type"]').click(function(){"managed"==$(this).attr("value")?($("#managed-domain-wrapper").slideDown(),$("#login-form").css("height","544px")):($("#managed-domain-wrapper").slideUp(),$("#login-form").css("height","468px"))}),$(".copy-button").click(function(){var e=$(this).closest("article").children(".print-wrapper").children(".print-json");copyToClipboard(e.attr("id"))}),$("a[href*=#]:not([href=#])").click(function(){if($(".sidebar a").removeClass("is-active"),$(this).addClass("is-active"),location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=$(this.hash);if(e=e.length?e:$("[name="+this.hash.slice(1)+"]"),e.length)return $("html,body").animate({scrollTop:e.offset().top-114},500),!1}})});
//# sourceMappingURL=main.min.js.map