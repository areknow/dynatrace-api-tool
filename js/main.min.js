function collectForm(){var e=$("input:radio[name='env-type']:checked").val(),t=$("#text-managed-domain").val(),n=$("#text-env-id").val(),a=$("#text-api-token").val(),o={type:e,domain:t,id:n,token:a};return o}function checkForm(){var e=$("#text-managed-domain").val(),t=$("#text-env-id").val(),n=$("#text-api-token").val(),a=$('input:radio[name="env-type"]:checked').attr("value");return"managed"==a?""==e||""==t||""==n?!1:!0:""==t||""==n?!1:!0}function buildURL(e){var t;return"saas"==e.type?t="https://"+e.id+".live.dynatrace.com/api/v1/":"managed"==e.type&&(t="https://"+e.domain+"/e/"+e.id+"/api/v1/"),t}function getData(e,t,n){return Promise.resolve($.ajax({url:e+n+"?Api-Token="+t}))}function showLoader(e){e?$(".loading").fadeIn():setTimeout(function(){$(".loading").fadeOut()},1e3)}function showWarning(e,t){$(".warning").html(t),e?$(".warning").fadeIn("fast"):$(".warning").fadeOut("fast")}function hideLogin(e){e?$(".auth-wrapper").slideUp():$(".auth-wrapper").slideDown()}function ajaxTimeseries(e,t){return request="timeseries",$.ajax({url:e+request+"?Api-Token="+t}).done(function(n){var a=e+request+"?Api-Token="+t,o=JSON.stringify(n);$("#timeseries .endpoint").html(a),$("#timeseries .print-json").html(o)})}function ajaxProblemStatus(e,t){return request="problem/status",$.ajax({url:e+request+"?Api-Token="+t}).done(function(n){var a=e+request+"?Api-Token="+t,o=JSON.stringify(n);$("#problem-status .endpoint").html(a),$("#problem-status .print-json").html(o)})}function ajaxProblemFeed(e,t){return request="problem/feed",$.ajax({url:e+request+"?Api-Token="+t}).done(function(n){var a=e+request+"?Api-Token="+t,o=JSON.stringify(n);$("#problem-feed .endpoint").html(a),$("#problem-feed .print-json").html(o)})}function ajaxApplications(e,t){return request="/entity/applications",$.ajax({url:e+request+"?Api-Token="+t}).done(function(n){var a=e+request+"?Api-Token="+t,o=JSON.stringify(n);$("#applications .endpoint").html(a),$("#applications .print-json").html(o)})}function ajaxServices(e,t){return request="entity/services",$.ajax({url:e+request+"?Api-Token="+t}).done(function(n){var a=e+request+"?Api-Token="+t,o=JSON.stringify(n);$("#services .endpoint").html(a),$("#services .print-json").html(o)})}function ajaxHosts(e,t){return request="entity/infrastructure/hosts",$.ajax({url:e+request+"?Api-Token="+t}).done(function(n){var a=e+request+"?Api-Token="+t,o=JSON.stringify(n);$("#hosts .endpoint").html(a),$("#hosts .print-json").html(o)})}function ajaxProcessGroups(e,t){return request="entity/infrastructure/process-groups",$.ajax({url:e+request+"?Api-Token="+t}).done(function(n){var a=e+request+"?Api-Token="+t,o=JSON.stringify(n);$("#process-groups .endpoint").html(a),$("#process-groups .print-json").html(o)})}function initWayPoints(){new Waypoint({element:document.getElementById("problem-status"),handler:function(e){"down"==e?($(".sidebar a").removeClass("is-active"),$("#side-problem-status").addClass("is-active")):"up"==e&&($("#side-problem-status").removeClass("is-active"),$("#side-timeseries").addClass("is-active"))},offset:200}),new Waypoint({element:document.getElementById("problem-feed"),handler:function(e){"down"==e?($(".sidebar a").removeClass("is-active"),$("#side-problem-feed").addClass("is-active")):"up"==e&&($("#side-problem-feed").removeClass("is-active"),$("#side-problem-status").addClass("is-active"))},offset:200}),new Waypoint({element:document.getElementById("applications"),handler:function(e){"down"==e?($(".sidebar a").removeClass("is-active"),$("#side-applications").addClass("is-active")):"up"==e&&($("#side-applications").removeClass("is-active"),$("#side-problem-feed").addClass("is-active"))},offset:200}),new Waypoint({element:document.getElementById("services"),handler:function(e){"down"==e?($(".sidebar a").removeClass("is-active"),$("#side-services").addClass("is-active")):"up"==e&&($("#side-services").removeClass("is-active"),$("#side-applications").addClass("is-active"))},offset:200}),new Waypoint({element:document.getElementById("hosts"),handler:function(e){"down"==e?($(".sidebar a").removeClass("is-active"),$("#side-hosts").addClass("is-active")):"up"==e&&($("#side-hosts").removeClass("is-active"),$("#side-services").addClass("is-active"))},offset:200}),new Waypoint({element:document.getElementById("process-groups"),handler:function(e){"down"==e?($(".sidebar a").removeClass("is-active"),$("#side-process-groups").addClass("is-active")):"up"==e&&($("#side-process-groups").removeClass("is-active"),$("#side-hosts").addClass("is-active"))},offset:200})}function CopyToClipboard(e){if(document.selection){document.getSelection().removeAllRanges();var t=document.body.createTextRange();t.moveToElementText(document.getElementById(e)),t.select().createTextRange(),document.execCommand("Copy")}else if(window.getSelection){window.getSelection().removeAllRanges();var t=document.createRange();t.selectNode(document.getElementById(e)),window.getSelection().addRange(t),document.execCommand("Copy")}}$(function(){$("#submit-form").click(function(){if(checkForm()){showWarning(!1),showLoader(!0);var e=collectForm(),t=buildURL(e);$.when(ajaxTimeseries(t,e.token),ajaxProblemStatus(t,e.token),ajaxProblemFeed(t,e.token),ajaxApplications(t,e.token),ajaxServices(t,e.token),ajaxHosts(t,e.token),ajaxProcessGroups(t,e.token)).done(function(e,t,n,a,o,i,s){console.log(e),console.log(t),console.log(n),console.log(a),console.log(o),console.log(i),console.log(s),showLoader(!1),setTimeout(function(){hideLogin(!0)},1500),initWayPoints()})}else showWarning(!0,"Please fill out all fields")}),$('input:radio[name="env-type"]').click(function(){"managed"==$(this).attr("value")?($("#managed-domain-wrapper").slideDown(),$("#login-form").css("height","544px")):($("#managed-domain-wrapper").slideUp(),$("#login-form").css("height","468px"))}),$(".copy-button").click(function(){var e=$(this).closest("article").children(".print-wrapper").children(".print-json");console.log(e.attr("id")),CopyToClipboard(e.attr("id"))}),$("a[href*=#]:not([href=#])").click(function(){if($(".sidebar a").removeClass("is-active"),$(this).addClass("is-active"),location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=$(this.hash);if(e=e.length?e:$("[name="+this.hash.slice(1)+"]"),e.length)return $("html,body").animate({scrollTop:e.offset().top-114},500),!1}})});
//# sourceMappingURL=main.min.js.map